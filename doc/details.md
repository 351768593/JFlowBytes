# 实现细节

## config 类

因为有多个 "一 config 对应一 service" 的情况,  
想了想没必要为相关配置项专门创建一个 config 类了,  
直接把配置项用 `@Value` 注入到 service 类里得了.

## 工作流和处理器类

* 这个系统的工作流 **不是** Flowable 框架的工作流,  
  仅有运行时数据, 没有任何持久化操作.  
  程序执行中退出的话没法恢复现场.
* 大部分处理类仅基于工作流上下文内的变量执行操作,  
  执行过程不需也不能被外界控制.
* 工作流从创建到执行结束,  
  外界只能获取工作流当前的状态和日志,  
  或者直接停止某个工作流.

### 文件上传

文件上传过程比较特殊, 因为这个流程需要跟前端产生数据交互.

相关处理器不做任何处理, 仅循环检测工作流上下文状态.  
没有上传完成前都会堵塞线程, 直到上传完成后才停止处理过程.

